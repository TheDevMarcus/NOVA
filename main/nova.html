<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>NOVA</title>
<link rel="icon" type="image/png" href="https://i.ibb.co/ZR8kx20q/New-Project-1.png">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Cinzel:wght@700;900&display=swap" rel="stylesheet">
<style>
:root {
    --primary: #b380ff;
    --primary-dim: rgba(179, 128, 255, 0.15);
    --primary-glow: rgba(179, 128, 255, 0.9);
    --accent: #ff66b2;
    --accent-glow: rgba(255, 102, 178, 0.5);
    --bg-deep: #0a0712;
    --bg-surface: #120e1a;
    --bg-card: #1a1428;
    --text-main: #ffffff;
    --text-muted: #e0d0ff;
    --text-dim: #b09cd9;
    --card-border: #ffffff;
    --card-border-hover: #ffffff;
    --glass-bg: #100c1c;
    --glass-border: rgba(255, 255, 255, 0.08);
}
* {
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    margin: 0;
    padding: 0;
}
html { height: -webkit-fill-available; }
body {
    width: 100%;
    min-height: 100vh;
    min-height: -webkit-fill-available;
    background: var(--bg-deep);
    font-family: 'Outfit', sans-serif;
    color: var(--text-main);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    position: relative;
}
#stars-canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 0.8;
}
.wrapper {
    position: relative;
    z-index: 20;
    min-height: 100vh;
    width: 100%;
    max-width: 1300px;
    margin: 0 auto;
    padding: 24px 28px;
    display: flex;
    flex-direction: column;
}
header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 24px;
}
.logo-area {
    display: flex;
    align-items: center;
    gap: 18px;
}
h1 {
    font-family: 'Cinzel', serif;
    font-size: 2.8rem;
    letter-spacing: 10px;
    background: linear-gradient(135deg, #ffffff 0%, #f0e0ff 80%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    filter: drop-shadow(0 0 25px var(--primary-glow)) drop-shadow(0 0 45px #b380ff) drop-shadow(0 0 70px #8a5cff);
    margin: 0;
    line-height: 1;
    animation: logoPulse 3s infinite ease-in-out;
}
@keyframes logoPulse {
    0% { filter: drop-shadow(0 0 25px var(--primary-glow)) drop-shadow(0 0 45px #b380ff) drop-shadow(0 0 70px #8a5cff); }
    50% { filter: drop-shadow(0 0 35px var(--primary-glow)) drop-shadow(0 0 60px #b380ff) drop-shadow(0 0 90px #8a5cff); }
    100% { filter: drop-shadow(0 0 25px var(--primary-glow)) drop-shadow(0 0 45px #b380ff) drop-shadow(0 0 70px #8a5cff); }
}
.status-badge {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(179,128,255,0.08);
    padding: 8px 18px;
    border-radius: 40px;
    border: 1px solid rgba(179,128,255,0.25);
    backdrop-filter: blur(8px);
    box-shadow: 0 0 12px rgba(179,128,255,0.2);
}
.status-dot {
    width: 10px; height: 10px;
    background: var(--primary);
    border-radius: 50%;
    box-shadow: 0 0 12px var(--primary);
    animation: pulseSoft 2.5s infinite;
}
@keyframes pulseSoft {
    0% { opacity:1; transform:scale(1); box-shadow:0 0 12px var(--primary); }
    50% { opacity:0.7; transform:scale(0.9); box-shadow:0 0 22px var(--primary); }
    100% { opacity:1; transform:scale(1); box-shadow:0 0 12px var(--primary); }
}
.status-text { font-size:0.8rem; font-weight:700; letter-spacing:1.5px; color:var(--primary); }
.dev-button {
    background: rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.08);
    padding:12px 26px;
    border-radius:60px;
    display:flex;
    align-items:center;
    gap:12px;
    cursor:pointer;
    transition:0.25s;
    font-weight:600;
    letter-spacing:2px;
    color:var(--text-muted);
    backdrop-filter:blur(8px);
    box-shadow: 0 0 8px rgba(179,128,255,0.1);
}
.dev-button:hover {
    background:rgba(179,128,255,0.15);
    border-color:rgba(179,128,255,0.5);
    color:white;
    transform:translateY(-2px);
    box-shadow:0 0 22px var(--primary-glow);
}
.search-section {
    background:var(--glass-bg);
    backdrop-filter:blur(12px);
    border:1px solid var(--glass-border);
    border-radius:100px;
    padding:6px;
    display:flex;
    align-items:center;
    box-shadow:0 10px 25px -10px rgba(0,0,0,0.8), 0 0 0 0 rgba(179,128,255,0);
    margin-bottom:24px;
    transition:box-shadow 0.2s, border-color 0.2s;
}
.search-section:focus-within {
    border-color:rgba(179,128,255,0.5);
    box-shadow:0 10px 25px -10px rgba(0,0,0,0.8), 0 0 18px 2px var(--primary-glow);
}
.search-container {
    flex:1;
    display:flex;
    align-items:center;
    padding:0 8px 0 24px;
}
.search-icon { color:var(--text-dim); margin-right:16px; transition:color 0.2s; }
.search-section:focus-within .search-icon { color:var(--primary); filter:drop-shadow(0 0 6px var(--primary)); }
.search-container input {
    flex:1;
    background:transparent;
    border:none;
    padding:18px 0;
    color:white;
    font-size:1rem;
    outline:none;
}
.search-container input::placeholder { color:rgba(255,255,255,0.15); font-weight:300; }
.search-actions {
    display:flex;
    gap:10px;
    align-items:center;
}
.quote-button {
    background:rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.05);
    padding:8px 20px;
    border-radius:60px;
    display:flex;
    align-items:center;
    gap:14px;
    cursor:pointer;
    transition:0.2s;
    backdrop-filter:blur(8px);
    box-shadow: 0 0 6px rgba(179,128,255,0.1);
}
.quote-button:hover {
    background:rgba(179,128,255,0.12);
    border-color:rgba(179,128,255,0.4);
    box-shadow:0 0 18px var(--primary-glow);
}
.quote-text { font-size:0.85rem; color:#d0c0f0; max-width:220px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.quote-refresh svg { stroke:var(--text-dim); transition:0.3s; }
.quote-button:hover .quote-refresh svg { stroke:white; transform:rotate(180deg); filter:drop-shadow(0 0 4px white); }
.settings-button {
    background:rgba(255,255,255,0.02);
    border:1px solid rgba(255,255,255,0.05);
    width:52px; height:52px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    cursor:pointer;
    transition:0.25s;
    box-shadow: 0 0 6px rgba(179,128,255,0.1);
}
.settings-button:hover {
    background:rgba(255,255,255,0.08);
    border-color:var(--primary);
    color:var(--primary);
    box-shadow:0 0 22px var(--primary-glow);
    transform:rotate(30deg);
}
.apps-header {
    display:flex;
    align-items:center;
    justify-content:space-between;
    margin-bottom:16px;
    padding:0 4px;
}
.apps-title {
    display:flex;
    align-items:center;
    gap:16px;
}
.apps-title h2 {
    font-size:1.4rem;
    font-weight:700;
    letter-spacing:2px;
    background:linear-gradient(135deg, #ffffff, #e6d0ff);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    filter: drop-shadow(0 0 8px rgba(179,128,255,0.3));
}
.game-count {
    background:rgba(179,128,255,0.1);
    padding:4px 14px;
    border-radius:40px;
    font-size:0.75rem;
    font-weight:700;
    color:var(--primary);
    border:1px solid rgba(179,128,255,0.2);
    backdrop-filter:blur(4px);
    box-shadow: 0 0 8px rgba(179,128,255,0.15);
}
.filter-controls {
    display:flex;
    gap:14px;
    align-items:center;
}
.filter-sort {
    display:flex;
    align-items:center;
    gap:8px;
    background:rgba(0,0,0,0.25);
    padding:6px 16px;
    border-radius:40px;
    border:1px solid rgba(255,255,255,0.05);
    backdrop-filter:blur(4px);
    transition:box-shadow 0.2s;
}
.filter-sort:hover {
    box-shadow:0 0 12px rgba(179,128,255,0.2);
}
.filter-sort span { font-size:0.75rem; color:var(--text-dim); letter-spacing:1px; }
.filter-sort select {
    background:transparent;
    border:none;
    color:white;
    font-size:0.8rem;
    font-weight:600;
    outline:none;
    cursor:pointer;
    padding:4px 6px;
}
.filter-sort select option { background:#1a1428; color:white; }
.app-filter-wrapper {
    position:relative;
}
.app-filter-wrapper svg {
    position:absolute;
    left:14px;
    top:50%;
    transform:translateY(-50%);
    stroke:var(--text-dim);
    z-index:2;
    transition:stroke 0.2s;
}
.app-filter-input {
    background:rgba(0,0,0,0.25);
    border:1px solid rgba(255,255,255,0.05);
    border-radius:40px;
    padding:8px 16px 8px 42px;
    color:white;
    font-size:0.85rem;
    width:180px;
    backdrop-filter:blur(4px);
    transition:all 0.2s;
    box-shadow: 0 0 6px rgba(179,128,255,0);
}
.app-filter-input:focus {
    border-color:rgba(179,128,255,0.5);
    width:200px;
    background:rgba(0,0,0,0.35);
    box-shadow:0 0 16px var(--primary-glow);
}
.app-filter-input:focus + svg { stroke:var(--primary); }
.apps-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 8px;
    padding: 8px 4px 32px 4px;
    margin-bottom: 12px;
    min-height: 300px;
}
.loading-grid {
    display: flex;
    justify-content: center;
    align-items: center;
    grid-column: 1 / -1;
    color: var(--text-dim);
    font-size: 1.1rem;
    gap: 14px;
}
.spinner {
    width: 36px;
    height: 36px;
    border: 3px solid rgba(179,128,255,0.2);
    border-top-color: var(--primary);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    filter: drop-shadow(0 0 6px var(--primary));
}
@keyframes spin { to { transform: rotate(360deg); } }
.app-card {
    background: var(--bg-card);
    border: 2px solid #ffffff;
    border-radius: 16px;
    aspect-ratio: 1 / 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: transform 0.1s ease-out, box-shadow 0.2s;
    position: relative;
    box-shadow: 0 8px 12px -8px rgba(0,0,0,0.6), 0 0 0 0 rgba(179,128,255,0);
    will-change: transform, box-shadow;
    padding: 4px;
    transform-style: preserve-3d;
    transform: perspective(400px) rotateX(0deg) rotateY(0deg);
}
.app-card:hover {
    background: #201a34;
    border: 2px solid #ffffff;
    box-shadow: 0 12px 20px -8px rgba(0,0,0,0.8), 0 0 22px 4px var(--primary-glow);
    transform: perspective(400px) rotateX(2deg) rotateY(2deg) scale(1.02);
}
.app-icon {
    width: 100%;
    height: 100%;
    border-radius: 14px;
    overflow: hidden;
    background: linear-gradient(145deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.1);
    transition: transform 0.1s;
}
.app-card:hover .app-icon { transform: scale(0.96); }
.app-icon img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.1s;
}
.app-card:hover .app-icon img { transform: scale(1.1); }
.app-name {
    font-size: 0.7rem;
    font-weight: 600;
    color: white;
    text-align: center;
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    letter-spacing: 0.2px;
    opacity: 0;
    transition: opacity 0.2s;
    padding: 4px 4px 0;
    position: absolute;
    bottom: 4px;
    left: 4px;
    right: 4px;
    background: rgba(0,0,0,0.6);
    backdrop-filter: blur(4px);
    border-radius: 12px;
    z-index: 2;
    text-shadow: 0 0 6px var(--primary);
}
.app-card:hover .app-name {
    opacity: 1;
}
.app-delete {
    position: absolute;
    top: -6px; right: -6px;
    width: 22px; height: 22px;
    background: var(--accent);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
    font-weight: 700;
    opacity: 0;
    transform: scale(0.8);
    transition: 0.2s;
    border: 2px solid rgba(255,255,255,0.3);
    box-shadow: 0 0 10px rgba(255,102,178,0.4);
    cursor: pointer;
    z-index: 3;
}
.app-card:hover .app-delete { opacity: 1; transform: scale(1); }
.app-delete:hover { background: #ff99cc; box-shadow:0 0 20px var(--accent-glow); transform: scale(1.15) !important; }
.add-app-card {
    background: rgba(26,20,40,0.6);
    border: 2px dashed #ffffff;
    border-radius: 16px;
    aspect-ratio: 1 / 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    cursor: pointer;
    transition: 0.2s;
    padding: 4px;
    transform-style: preserve-3d;
    transform: perspective(400px) rotateX(0deg) rotateY(0deg);
    box-shadow: 0 0 0 0 rgba(179,128,255,0);
}
.add-app-card:hover {
    border-color: #ffffff;
    background: rgba(179,128,255,0.15);
    transform: perspective(400px) rotateX(2deg) rotateY(2deg) translateY(-2px);
    box-shadow: 0 12px 20px -8px rgba(0,0,0,0.8), 0 0 22px 4px var(--primary-glow);
}
.add-icon {
    width: 70%;
    height: 70%;
    border-radius: 14px;
    background: rgba(255,255,255,0.02);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 32px;
    color: var(--text-dim);
    transition: 0.2s;
}
.add-app-card:hover .add-icon { color: var(--primary); transform: rotate(90deg); filter:drop-shadow(0 0 8px var(--primary)); }
.add-app-card .app-name {
    position: relative;
    bottom: auto;
    left: auto;
    right: auto;
    background: transparent;
    backdrop-filter: none;
    opacity: 0.6;
    font-size: 0.7rem;
}
.add-app-card:hover .app-name { color: white; opacity: 1; }
.url-section {
    margin: 8px 0 20px;
    display: flex;
    gap: 14px;
    align-items: center;
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 80px;
    padding: 6px;
    box-shadow:0 10px 20px -10px rgba(0,0,0,0.8), 0 0 0 0 rgba(179,128,255,0);
    transition: box-shadow 0.2s, border-color 0.2s;
}
.url-section:focus-within {
    border-color:rgba(179,128,255,0.5);
    box-shadow:0 10px 20px -10px rgba(0,0,0,0.8), 0 0 18px 2px var(--primary-glow);
}
.url-input {
    flex:1;
    padding-left:22px;
}
.url-input input {
    width:100%;
    background:transparent;
    border:none;
    padding:16px 0;
    color:white;
    font-size:1rem;
    outline:none;
}
.url-input input::placeholder { color:rgba(255,255,255,0.12); }
.launch-btn {
    background:linear-gradient(135deg, var(--primary), #9966ff);
    border:none;
    padding:14px 36px;
    border-radius:60px;
    color:white;
    font-weight:700;
    font-size:0.95rem;
    letter-spacing:2px;
    cursor:pointer;
    transition:0.2s;
    text-transform:uppercase;
    box-shadow: 0 4px 12px rgba(179,128,255,0.3);
}
.launch-btn:hover:not(:disabled) {
    transform:scale(1.02);
    box-shadow:0 8px 24px var(--primary-glow);
}
.launch-btn:disabled { opacity:0.3; cursor:not-allowed; box-shadow:none; }
.footer {
    margin-top: auto;
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:20px 16px 12px;
    color:rgba(255,255,255,0.25);
    font-size:0.7rem;
    letter-spacing:2px;
    border-top:1px solid rgba(255,255,255,0.04);
}
.footer-links { display:flex; gap:28px; }
.footer-link {
    color:rgba(255,255,255,0.25);
    text-decoration:none;
    transition:0.2s;
    font-size:0.7rem;
    font-weight:600;
}
.footer-link:hover { color:var(--primary); text-shadow:0 0 8px var(--primary); }
.dev-feed-modal { position:fixed; bottom:30px; right:30px; width:380px; max-width:92vw; background:#1a1428; border:1px solid rgba(179,128,255,0.2); border-radius:28px; z-index:1000; display:none; flex-direction:column; overflow:hidden; animation:slideIn 0.25s; box-shadow:0 0 30px rgba(179,128,255,0.2); }
.dev-feed-modal.show { display:flex; }
.dev-feed-header { padding:16px 20px; background:rgba(179,128,255,0.1); border-bottom:1px solid rgba(255,255,255,0.04); display:flex; justify-content:space-between; align-items:center; }
.dev-feed-header h3 { font-size:0.95rem; font-weight:700; letter-spacing:2px; color:var(--primary); display:flex; align-items:center; gap:10px; text-shadow:0 0 6px var(--primary);}
.close-feed { background:rgba(255,255,255,0.03); border:none; width:32px; height:32px; border-radius:50%; color:white; cursor:pointer; transition:0.2s; font-size:16px; }
.close-feed:hover { background:var(--accent); box-shadow:0 0 15px var(--accent); }
.dev-feed-content { padding:16px; max-height:400px; overflow-y:auto; background:rgba(0,0,0,0.2); }
.log-card { background:rgba(26,20,40,0.8); border-left:5px solid var(--primary); border-radius:16px; padding:16px; margin-bottom:12px; transition:0.15s; }
.log-card:hover { background:#221c34; box-shadow:0 0 15px rgba(179,128,255,0.2); }
.log-title { font-weight:700; font-size:0.85rem; color:white; margin-bottom:6px; }
.log-msg { font-size:0.75rem; color:var(--text-muted); line-height:1.5; }
.log-author { margin-top:10px; font-size:0.65rem; color:rgba(255,255,255,0.4); display:flex; align-items:center; gap:6px; }
.modal { position:fixed; inset:0; background:rgba(0,0,0,0.9); backdrop-filter:blur(30px); display:none; align-items:center; justify-content:center; z-index:2000; padding:20px; }
.modal.show { display:flex; }
.modal-content { background:#1a1428; border:1px solid rgba(179,128,255,0.2); border-radius:44px; padding:36px; max-width:520px; width:100%; max-height:85vh; overflow-y:auto; animation:scaleIn 0.25s; box-shadow:0 0 40px rgba(179,128,255,0.15); }
.modal-header { font-family:'Cinzel', serif; font-size:1.6rem; margin-bottom:28px; text-align:center; background:linear-gradient(135deg, #fff, #e6d0ff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; filter:drop-shadow(0 0 8px var(--primary)); }
.setting-row { margin-bottom:24px; }
.setting-label { display:block; font-size:0.7rem; color:#a088c0; margin-bottom:8px; text-transform:uppercase; letter-spacing:2px; }
.modal input { width:100%; padding:16px; background:rgba(0,0,0,0.3); border:1px solid rgba(255,255,255,0.06); border-radius:28px; color:white; transition:0.15s; }
.modal input:focus { border-color:var(--primary); outline:none; box-shadow:0 0 18px var(--primary-glow); }
.switch { position:relative; display:inline-block; width:60px; height:30px; float:right; }
.switch input { opacity:0; width:0; height:0; }
.slider { position:absolute; cursor:pointer; inset:0; background-color:#2a1e3a; transition:.2s; border-radius:30px; }
.slider:before { position:absolute; content:""; height:24px; width:24px; left:3px; bottom:3px; background-color:white; transition:.2s; border-radius:50%; }
input:checked + .slider { background-color:var(--primary); box-shadow:0 0 12px var(--primary); }
input:checked + .slider:before { transform:translateX(30px); }
.presets-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:14px; margin:20px 0; }
.preset-item { background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.05); border-radius:22px; padding:14px 6px; display:flex; flex-direction:column; align-items:center; gap:8px; cursor:pointer; transition:0.15s; }
.preset-item:hover { background:rgba(179,128,255,0.1); border-color:var(--primary); transform:translateY(-2px); box-shadow:0 0 18px rgba(179,128,255,0.25); }
.preset-icon { width:44px; height:44px; border-radius:14px; overflow:hidden; }
.preset-icon img { width:100%; height:100%; object-fit:cover; }
.preset-name { font-size:0.7rem; color:var(--text-muted); }
.version-block-modal { position:fixed; inset:0; background:rgba(0,0,0,0.98); backdrop-filter:blur(40px); z-index:999999; display:none; align-items:center; justify-content:center; }
.version-block-modal.show { display:flex; }
.version-block-content { background:#1a1428; border:2px solid var(--primary); border-radius:56px; padding:50px 36px; max-width:500px; text-align:center; box-shadow:0 0 70px var(--primary-glow); }
.version-block-content h2 { font-family:'Cinzel', serif; font-size:2.2rem; color:white; margin-bottom:16px; letter-spacing:6px; filter:drop-shadow(0 0 8px var(--primary)); }
.version-error-icon { font-size:80px; color:var(--accent); margin-bottom:16px; filter:drop-shadow(0 0 12px var(--accent)); }
.version-message { background:rgba(255,102,178,0.08); border:1px solid var(--accent); border-radius:50px; padding:16px; margin:24px 0; font-size:1.1rem; color:#ffc0cb; }
.patch-button { background:linear-gradient(135deg, #b380ff, #9966ff); border:none; padding:18px 40px; border-radius:50px; color:white; font-weight:800; font-size:1.3rem; letter-spacing:6px; cursor:pointer; width:100%; text-transform:uppercase; transition:0.2s; border:1px solid rgba(255,255,255,0.1); box-shadow:0 0 30px rgba(179,128,255,0.3); }
.patch-button:hover { transform:scale(1.02); box-shadow:0 0 50px var(--primary-glow); }
@keyframes scaleIn { from{ opacity:0; transform:scale(0.96); } to{ opacity:1; transform:scale(1); } }
@keyframes slideIn { from{ opacity:0; transform:translateX(20px); } to{ opacity:1; transform:translateX(0); } }
@media (max-width: 900px) {
    .apps-grid { grid-template-columns: repeat(4,1fr); gap:7px; }
}
@media (max-width: 700px) {
    .wrapper { padding:18px; }
    .apps-grid { grid-template-columns: repeat(3,1fr); gap:7px; }
    h1 { font-size:2.2rem; }
    .search-section { flex-direction:column; border-radius:48px; }
    .search-actions { width:100%; margin-top:8px; }
    .apps-header { flex-direction:column; align-items:flex-start; gap:10px; }
}
@media (max-width: 480px) {
    .apps-grid { grid-template-columns: repeat(2,1fr); gap:6px; }
}
.draggable-panel {
    position: fixed;
    top: 100px;
    left: 100px;
    width: 340px;
    background: #1e1638;
    border: 2px solid var(--primary);
    border-radius: 28px;
    padding: 0;
    z-index: 10000;
    box-shadow: 0 0 60px var(--primary-glow);
    backdrop-filter: blur(20px);
    cursor: default;
    display: none;
    user-select: none;
}
.draggable-panel.show { display: block; }
.panel-header {
    padding: 18px 22px;
    background: rgba(179,128,255,0.15);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    border-radius: 26px 26px 0 0;
    font-weight: 700;
    font-size: 1.2rem;
    letter-spacing: 2px;
    color: white;
    text-shadow: 0 0 12px var(--primary);
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: move;
}
.panel-header span { color: var(--primary); }
.panel-close {
    background: rgba(255,255,255,0.05);
    border: none;
    color: white;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
}
.panel-close:hover { background: var(--accent); box-shadow: 0 0 15px var(--accent); }
.panel-content {
    padding: 22px;
    display: flex;
    flex-direction: column;
    gap: 18px;
}
.panel-item {
    background: rgba(0,0,0,0.25);
    border: 1px solid rgba(179,128,255,0.3);
    border-radius: 60px;
    padding: 14px 22px;
    display: flex;
    align-items: center;
    gap: 16px;
    cursor: pointer;
    transition: 0.15s;
    font-weight: 500;
    color: #e0d0ff;
}
.panel-item:hover {
    background: rgba(179,128,255,0.15);
    border-color: var(--primary);
    box-shadow: 0 0 20px var(--primary-glow);
    transform: scale(1.02);
    color: white;
}
.panel-item svg { stroke: var(--primary); width: 22px; height: 22px; }
.panel-danger { border-color: #ff66b2; }
.panel-danger svg { stroke: #ff66b2; }
.panel-danger:hover { background: rgba(255,102,178,0.15); border-color: #ff66b2; box-shadow: 0 0 20px #ff66b2; }
</style>
</head>
<body>
<canvas id="stars-canvas"></canvas>
<div class="wrapper">
    <header>
        <div class="logo-area">
            <h1>NOVA</h1>
            <div class="status-badge">
                <span class="status-dot"></span>
                <span class="status-text" id="statusText">V1.0.6</span>
            </div>
        </div>
        <div class="dev-button" onclick="toggleDevFeed()">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
            DEV UPDATES
        </div>
    </header>
    <div class="main-layout">
        <div class="search-section">
            <div class="search-container">
                <span class="search-icon"><svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg></span>
                <input type="text" id="globalSearch" placeholder="Search apps..." autocomplete="off" onkeyup="checkAdminTrigger(event)">
            </div>
            <div class="search-actions">
                <div class="quote-button" onclick="randomQuote()">
                    <span class="quote-text" id="quoteDisplay">NOVA app library</span>
                    <span class="quote-refresh"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></span>
                </div>
                <div class="settings-button" onclick="openSettings()">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                </div>
            </div>
        </div>
        <div class="apps-header">
            <div class="apps-title">
                <h2>APP VAULT</h2>
                <span class="game-count" id="appCount">0</span>
            </div>
            <div class="filter-controls">
                <div class="filter-sort">
                    <span>SORT:</span>
                    <select id="sortSelect" onchange="filterApps()">
                        <option value="name">A-Z</option>
                    </select>
                </div>
                <div class="app-filter-wrapper">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="22 3 2 3 10 13 10 21 14 18 14 13 22 3"></polygon></svg>
                    <input type="text" id="appFilterInput" class="app-filter-input" placeholder="Filter..." autocomplete="off" oninput="filterApps()">
                </div>
            </div>
        </div>
        <div class="apps-grid" id="appsGridContainer">
            <div class="loading-grid">
                <div class="spinner"></div>
                <span>LOADING VAULT...</span>
            </div>
        </div>
        <div class="url-section">
            <div class="url-input">
                <input id="url" placeholder="Enter URL or search term..." autocomplete="off" onkeydown="handleUrlKey(event)">
            </div>
            <button id="startBtn" class="launch-btn" onclick="launch()" disabled>LAUNCH</button>
        </div>
    </div>
    <div class="footer">
        <span>DESIGNED BY CHIP HILL</span>
        <div class="footer-links">
            <a href="https://forms.gle/BbSnAHsfeimzL8gs5" target="_blank" class="footer-link">SUGGESTION</a>
            <a href="https://forms.gle/WxxgfjxjA5tq3HAU7" target="_blank" class="footer-link">BUG</a>
        </div>
    </div>
</div>
<div class="draggable-panel" id="adminPanel">
    <div class="panel-header" id="dragHandle">
        <span>ADMIN</span> <span>CONSOLE</span>
        <button class="panel-close" onclick="closeAdminPanel()">‚úï</button>
    </div>
    <div class="panel-content">
        <div class="panel-item" onclick="showToast('Banned user: generic_user_01')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="4.93" y1="4.93" x2="19.07" y2="19.07"/></svg> Ban User</div>
        <div class="panel-item" onclick="showToast('Unlimited coins granted (just kidding)')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="8"/><path d="M12 2v20M2 12h20"/></svg> Grant Coins</div>
        <div class="panel-item" onclick="showToast('All players kicked. lobby empty.')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg> Kick All</div>
        <div class="panel-item panel-danger" onclick="showToast('Server wiped. (just kidding, still here)')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="3 6 21 6 19 18 5 18 3 6"/><line x1="10" y1="11" x2="14" y2="11"/></svg> Wipe Server</div>
        <div class="panel-item" onclick="showToast('Admin access granted (you wish)')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v4M12 22v-4M4 12H2h2M20 12h2-2M5.64 5.64l-1.41 1.41 1.41-1.41M18.36 18.36l1.41-1.41-1.41 1.41M5.64 18.36l1.41-1.41-1.41 1.41M18.36 5.64l-1.41 1.41 1.41-1.41"/></svg> Elevate Privileges</div>
    </div>
</div>
<div class="dev-feed-modal" id="devFeedModal"><div class="dev-feed-header"><h3><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>DEV UPDATES</h3><button class="close-feed" onclick="toggleDevFeed()">‚úï</button></div><div class="dev-feed-content" id="DevMessagesContainer"><div style="color:#888; padding:20px; text-align:center;">Loading...</div></div></div>
<div class="modal" id="settingsModal"><div class="modal-content"><h2 class="modal-header">CONFIG</h2><div class="setting-row"><span style="color:white; font-weight:600;">Cloak Mode</span><label class="switch"><input type="checkbox" id="cloak" onchange="toggleStealthSettings()"><span class="slider"></span></label></div><div id="stealthConfig" style="display:none;"><div class="setting-row"><label class="setting-label">Tab Title</label><input id="cloakTitle" placeholder="Google Docs"></div><div class="setting-row"><label class="setting-label">Favicon URL</label><input id="cloakIcon" placeholder="https://..."></div><div style="display:flex; justify-content:space-between; margin:20px 0 10px;"><span style="color:white; font-weight:600;">Presets</span><button onclick="clearCloakPreset()" style="background:rgba(255,255,255,0.03); border:1px solid #4a3a62; color:#ccc; padding:6px 18px; border-radius:28px; cursor:pointer; transition:0.15s;">CLEAR</button></div><div class="presets-grid"><div class="preset-item" onclick="applyCloakPreset('Google Docs','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_ZPKzisg9Sj2CKJUElIL_ckUnkwcARCP6Ew&s')"><div class="preset-icon"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_ZPKzisg9Sj2CKJUElIL_ckUnkwcARCP6Ew&s"></div><span class="preset-name">Docs</span></div><div class="preset-item" onclick="applyCloakPreset('Google Classroom','https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRUXXjHfy9EvwxExTgh1S7R8rbtaOwUOqGFEg&s')"><div class="preset-icon"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRUXXjHfy9EvwxExTgh1S7R8rbtaOwUOqGFEg&s"></div><span class="preset-name">Classroom</span></div><div class="preset-item" onclick="applyCloakPreset('Google Drive','https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png')"><div class="preset-icon"><img src="https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png"></div><span class="preset-name">Drive</span></div><div class="preset-item" onclick="applyCloakPreset('Canvas','https://www.instructure.com/sites/default/files/image/2021-12/canvas_favicon_1.ico')"><div class="preset-icon"><img src="https://www.instructure.com/sites/default/files/image/2021-12/canvas_favicon_1.ico"></div><span class="preset-name">Canvas</span></div><div class="preset-item" onclick="applyCloakPreset('Google Search','https://www.google.com/favicon.ico')"><div class="preset-icon"><img src="https://www.google.com/favicon.ico"></div><span class="preset-name">Google</span></div></div></div><div style="margin-top:24px;"><button onclick="exportApps()" style="width:100%; padding:16px; background:#201c30; border-radius:40px; border:none; color:white; margin-bottom:10px; transition:0.15s; box-shadow:0 0 8px rgba(179,128,255,0.1);">EXPORT APPS</button><button onclick="document.getElementById('importFile').click()" style="width:100%; padding:16px; background:#201c30; border-radius:40px; border:none; color:white; margin-bottom:10px; transition:0.15s; box-shadow:0 0 8px rgba(179,128,255,0.1);">IMPORT APPS</button><button onclick="restoreDefaultApps()" style="width:100%; padding:16px; background:rgba(255,102,178,0.08); border-radius:40px; border:1px solid #ff66b2; color:#ffb0c0; transition:0.15s; box-shadow:0 0 8px rgba(255,102,178,0.2);">RESTORE DEFAULT</button></div><button onclick="saveSettings()" style="width:100%; padding:18px; background:linear-gradient(135deg, #b380ff, #9966ff); border-radius:50px; border:none; color:white; font-weight:800; margin-top:28px; box-shadow:0 0 18px var(--primary-glow); transition:0.15s;">SAVE CHANGES</button><button onclick="closeModals()" style="width:100%; padding:14px; background:transparent; border:none; color:#a088c0; margin-top:12px;">CANCEL</button></div></div>
<div class="modal" id="addAppModal"><div class="modal-content"><h2 class="modal-header">ADD APP</h2><div class="setting-row"><label class="setting-label">NAME</label><input id="newAppName" placeholder="App name"></div><div class="setting-row"><label class="setting-label">URL</label><input id="newAppUrl" placeholder="https://..."></div><div class="setting-row"><label class="setting-label">ICON URL (optional)</label><input id="newAppIcon" placeholder="https://..."></div><button onclick="saveNewApp()" style="width:100%; padding:18px; background:linear-gradient(135deg, #b380ff, #9966ff); border-radius:50px; border:none; color:white; font-weight:800; margin-top:24px; box-shadow:0 0 18px var(--primary-glow);">ADD TO VAULT</button><button onclick="closeModals()" style="width:100%; padding:14px; background:transparent; border:none; color:#a088c0; margin-top:12px;">CANCEL</button></div></div>
<input type="file" id="importFile" accept=".json" style="display:none;" onchange="importApps(event)">
<div class="version-block-modal" id="versionBlockModal"><div class="version-block-content"><div class="version-error-icon">‚ö†Ô∏è</div><h2>VERSION MISMATCH</h2><div class="version-message" id="versionErrorMessage">NOVA update required<br>Current build outdated</div><button class="patch-button" id="patchRedirectBtn">GET PATCH</button><div class="block-note">Redirecting to THEONLYNOVA.web.app</div></div></div>
<script>
let defaultApps = [], userApps = [], quotes = [], defaultUrls = new Set();
const FALLBACK_DEFAULTS = [{"name":"Slope","url":"https://slope-unblocked-10x.github.io/","icon":"https://slopeunblocked.bitbucket.io/img/slope.png"},{"name":"Tiny Fishing","url":"https://tiny-fishing-unblock.github.io/","icon":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQHLSyv4vBAD4hvl9-vJFUvoHOtGHYYDryUumuKAat_BtVK_QgSHX8VGCiP-EUV1CdrwclKoL-x7uCzc0Zm8Ahm2vS6hhOFOYMPw2g9pA&s=10"}];
const FALLBACK_QUOTES = ["67 isn't funny.", "41 isn't funny.", "what's 9+10?", "you can vent, I might not listen tho", "NOVA > any proxy."];
try { const stored = localStorage.getItem('novaApps'); userApps = stored ? JSON.parse(stored) : []; if (!Array.isArray(userApps)) userApps = []; } catch (e) { userApps = []; }
function showToast(msg) {
    const t = document.createElement('div');
    t.textContent = msg;
    t.style.cssText = 'position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:var(--primary);color:black;padding:12px 28px;border-radius:40px;font-size:0.85rem;font-weight:600;z-index:9999;box-shadow:0 10px 25px rgba(179,128,255,0.5);backdrop-filter:blur(8px);animation:fadeInUp 0.2s;';
    document.body.appendChild(t);
    setTimeout(()=>{t.style.opacity='0';t.style.transform='translateX(-50%) translateY(10px)';t.style.transition='0.2s';setTimeout(()=>document.body.removeChild(t),200);},2000);
}
let adminTriggerCount = 0;
function checkAdminTrigger(e) {
    const val = e.target.value.toLowerCase();
    if (val.includes('fakeadmin')) {
        document.getElementById('adminPanel').classList.add('show');
        e.target.value = '';
        adminTriggerCount = 0;
    }
    filterApps();
}
function closeAdminPanel() { document.getElementById('adminPanel').classList.remove('show'); }
makeDraggable(document.getElementById('adminPanel'), document.getElementById('dragHandle'));
function makeDraggable(el, handle) {
    let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
    handle.onmousedown = dragMouseDown;
    function dragMouseDown(e) {
        e = e || window.event;
        e.preventDefault();
        pos3 = e.clientX;
        pos4 = e.clientY;
        document.onmouseup = closeDragElement;
        document.onmousemove = elementDrag;
    }
    function elementDrag(e) {
        e = e || window.event;
        e.preventDefault();
        pos1 = pos3 - e.clientX;
        pos2 = pos4 - e.clientY;
        pos3 = e.clientX;
        pos4 = e.clientY;
        el.style.top = (el.offsetTop - pos2) + "px";
        el.style.left = (el.offsetLeft - pos1) + "px";
    }
    function closeDragElement() { document.onmouseup = null; document.onmousemove = null; }
}
async function fetchRemoteData() {
    const container = document.getElementById('appsGridContainer');
    if (!container) return;
    try {
        const [appsRes, quotesRes] = await Promise.all([
            fetch('https://raw.githubusercontent.com/TheDevMarcus/NOVA/main/main/backend/dapps', { cache: 'no-cache', headers: { 'Cache-Control': 'no-cache' } }),
            fetch('https://raw.githubusercontent.com/TheDevMarcus/NOVA/main/main/backend/q', { cache: 'no-cache', headers: { 'Cache-Control': 'no-cache' } })
        ]);
        if (appsRes.ok) {
            const appsData = await appsRes.json();
            if (Array.isArray(appsData)) defaultApps = appsData;
            else throw new Error('Invalid apps format');
        } else throw new Error('Apps fetch failed');
        if (quotesRes.ok) {
            const quotesData = await quotesRes.json();
            if (Array.isArray(quotesData)) quotes = quotesData;
            else throw new Error('Invalid quotes format');
        } else throw new Error('Quotes fetch failed');
    } catch (err) {
        defaultApps = FALLBACK_DEFAULTS;
        quotes = FALLBACK_QUOTES;
    } finally {
        defaultUrls = new Set(defaultApps.map(app => app.url));
        userApps = userApps.filter(app => !defaultUrls.has(app.url));
        localStorage.setItem('novaApps', JSON.stringify(userApps));
        filterApps();
        randomQuote();
    }
}
function filterApps() {
    const searchTerm = (document.getElementById('globalSearch')?.value || '').toLowerCase();
    const filterTerm = (document.getElementById('appFilterInput')?.value || '').toLowerCase();
    const combinedSearch = searchTerm || filterTerm;
    let allApps = [...defaultApps.map(app => ({ ...app, isDefault: true })), ...userApps.map(app => ({ ...app, isDefault: false }))];
    if (combinedSearch) allApps = allApps.filter(app => app.name.toLowerCase().includes(combinedSearch));
    allApps.sort((a, b) => a.name.localeCompare(b.name));
    document.getElementById('appCount').innerText = allApps.length;
    renderAppsGrid(allApps);
}
function renderAppsGrid(appsArray) {
    const container = document.getElementById('appsGridContainer');
    if (!container) return;
    let html = '';
    appsArray.forEach((app) => { html += `<div class="app-card" data-url="${app.url}" data-isdefault="${app.isDefault}"><div class="app-icon"><img src="${app.icon}" onerror="this.src='https://ui-avatars.com/api/?background=1a1428&color=fff&size=80&name=${encodeURIComponent(app.name.charAt(0))}'"></div><div class="app-name">${app.name}</div>${!app.isDefault ? `<div class="app-delete" data-url="${app.url}" onclick="event.stopPropagation(); deleteApp(this, '${app.url}')">‚úï</div>` : ''}</div>`; });
    html += `<div class="add-app-card" onclick="openAddAppModal()"><div class="add-icon">+</div><div class="app-name">Add App</div></div>`;
    container.innerHTML = html;
    container.querySelectorAll('.app-card:not(.add-app-card)').forEach(card => { card.addEventListener('click', (e) => { if (e.target.classList.contains('app-delete')) return; const url = card.dataset.url; if (url) { document.getElementById('url').value = url; launch(); } }); });
}
function deleteApp(el, url) { el.stopPropagation?.(); if (defaultUrls.has(url)) { showToast('‚ùå Default apps cannot be deleted'); return; } const app = userApps.find(a => a.url === url); if (!app) return; if (confirm(`Remove "${app.name}" from your apps?`)) { userApps = userApps.filter(a => a.url !== url); localStorage.setItem('novaApps', JSON.stringify(userApps)); filterApps(); showToast('App removed'); } }
function saveNewApp() {
    const name = document.getElementById('newAppName').value.trim(), url = document.getElementById('newAppUrl').value.trim(), icon = document.getElementById('newAppIcon').value.trim();
    if (!name || !url) { showToast('Name & URL required'); return; }
    if (defaultUrls.has(url)) { showToast('‚ùå This app is already in defaults'); return; }
    if (userApps.some(a => a.url === url)) { showToast('‚ùå You already added this app'); return; }
    const newApp = { name, url, icon: icon || `https://ui-avatars.com/api/?background=b380ff&color=000&size=80&name=${encodeURIComponent(name.charAt(0))}` };
    userApps.push(newApp); localStorage.setItem('novaApps', JSON.stringify(userApps)); filterApps(); closeModals();
    document.getElementById('newAppName').value = ''; document.getElementById('newAppUrl').value = ''; document.getElementById('newAppIcon').value = ''; showToast('App added');
}
function randomQuote() { const quoteEl = document.getElementById('quoteDisplay'); if (quotes.length > 0) quoteEl.textContent = quotes[Math.floor(Math.random() * quotes.length)]; else quoteEl.textContent = FALLBACK_QUOTES[Math.floor(Math.random() * FALLBACK_QUOTES.length)]; }
function restoreDefaultApps() { if (confirm('Restore default apps? This will remove all your added apps.')) { userApps = []; localStorage.setItem('novaApps', JSON.stringify(userApps)); fetchRemoteData(); showToast('Defaults restored'); } }
function exportApps() { const dataStr = JSON.stringify(userApps, null, 2); const blob = new Blob([dataStr], {type:'application/json'}); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'nova-user-apps.json'; document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url); showToast('Exported'); }
function importApps(e) {
    const file = e.target.files[0]; if (!file) return;
    const reader = new FileReader();
    reader.onload = function(ev) {
        try { const imported = JSON.parse(ev.target.result); if (Array.isArray(imported) && imported.every(a => a.name && a.url)) { const validNew = imported.filter(app => !defaultUrls.has(app.url) && !userApps.some(u => u.url === app.url)); if (validNew.length === 0) showToast('No new apps to import (duplicates)'); else if (confirm(`Import ${validNew.length} new app(s)?`)) { userApps = [...userApps, ...validNew]; localStorage.setItem('novaApps', JSON.stringify(userApps)); filterApps(); showToast('Imported'); } } else alert('Invalid format'); } catch(e) { alert('Invalid JSON'); }
    }; reader.readAsText(file); e.target.value = '';
}
function handleUrlKey(e) { if (e.key === 'Enter') launch(); }
function toggleDevFeed() { document.getElementById('devFeedModal').classList.toggle('show'); }
async function loadDevMessages() {
    const container = document.getElementById('DevMessagesContainer');
    try { const res = await fetch("https://raw.githubusercontent.com/TheDevMarcus/verison/refs/heads/main/devlogs", { cache: 'no-cache' }); if (!res.ok) throw Error(); const logs = await res.json(); container.innerHTML = logs.map(log => `<div class="log-card" style="border-left-color:${log.color||'var(--primary)'}"><div class="log-title">${log.title}</div><div class="log-msg">${log.message}</div><div class="log-author"><span style="background:${log.color||'var(--primary)'}; width:6px;height:6px;border-radius:50%;display:inline-block;"></span> ${log.author}</div></div>`).join(''); } catch(e) { container.innerHTML = '<div style="color:#8899aa; padding:20px; text-align:center;">üîå Developer feed offline</div>'; }
}
async function verify() {
    const statusEl = document.getElementById('statusText'), btn = document.getElementById('startBtn'), versionBlockModal = document.getElementById('versionBlockModal');
    loadDevMessages();
    try { const res = await fetch("https://raw.githubusercontent.com/TheDevMarcus/verison/main/verison", { cache: 'no-cache' }); const v = (await res.text()).trim(); if (v === "1.0.6") { btn.disabled = false; statusEl.innerText = 'V1.0.6 ONLINE'; } else { versionBlockModal.classList.add('show'); document.body.style.overflow = 'hidden'; btn.disabled = true; statusEl.innerText = 'V' + v + ' MISMATCH'; } } catch(e) { btn.disabled = false; statusEl.innerText = 'OFFLINE V1.0.6'; }
}
function openSettings() { document.getElementById('settingsModal').classList.add('show'); document.getElementById('cloak').checked = localStorage.getItem('novaCloak') === 'true'; document.getElementById('cloakTitle').value = localStorage.getItem('novaTitle') || 'Google Docs'; document.getElementById('cloakIcon').value = localStorage.getItem('novaIcon') || ''; toggleStealthSettings(); }
function toggleStealthSettings() { document.getElementById('stealthConfig').style.display = document.getElementById('cloak').checked ? 'block' : 'none'; }
function saveSettings() { localStorage.setItem('novaCloak', document.getElementById('cloak').checked); localStorage.setItem('novaTitle', document.getElementById('cloakTitle').value); localStorage.setItem('novaIcon', document.getElementById('cloakIcon').value); closeModals(); showToast('Settings saved'); }
function applyCloakPreset(title, icon) { document.getElementById('cloakTitle').value = title; document.getElementById('cloakIcon').value = icon; showToast(`${title} preset`); }
function clearCloakPreset() { document.getElementById('cloakTitle').value = ''; document.getElementById('cloakIcon').value = ''; showToast('Preset cleared'); }
function closeModals() { document.querySelectorAll('.modal').forEach(m => m.classList.remove('show')); }
function openAddAppModal() { document.getElementById('addAppModal').classList.add('show'); }
function launch() {
    const target = document.getElementById('url').value.trim(); if (!target) return;
    let finalUrl = target.startsWith('http') ? target : 'https://' + target;
    const isCloaked = localStorage.getItem('novaCloak') === 'true';
    const cTitle = localStorage.getItem('novaTitle') || 'Google Docs';
    const cIcon = localStorage.getItem('novaIcon') || 'https://ssl.gstatic.com/docs/doclist/images/infinite_wallpapers/v2/google-docs.ico';
    const win = window.open('about:blank', '_blank');
    const html = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>${isCloaked?cTitle:'NOVA'}</title><link rel="icon" href="${isCloaked?cIcon:'https://i.ibb.co/ZR8kx20q/New-Project-1.png'}"><style>body,html{margin:0;padding:0;overflow:hidden;background:#0a0712;}iframe{width:100vw;height:100vh;border:none;}.nav-bar{position:fixed;top:15px;left:15px;height:44px;width:44px;background:#1a1428;border:1px solid rgba(179,128,255,0.3);border-radius:14px;z-index:9999;transition:0.2s;display:flex;align-items:center;overflow:hidden;}.nav-bar:hover{width:170px;background:#1a1428;border-color:rgba(179,128,255,0.6);box-shadow:0 0 18px rgba(179,128,255,0.3);}.trigger{min-width:44px;height:44px;display:flex;align-items:center;justify-content:center;color:white;}.controls{display:flex;gap:10px;opacity:0;transition:0.15s;padding-right:14px;}.nav-bar:hover .controls{opacity:1;}.btn{position:relative;width:30px;height:30px;border-radius:8px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);color:#d0c0f0;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:0.15s;}.btn:hover{background:rgba(179,128,255,0.2);color:white;box-shadow:0 0 12px rgba(179,128,255,0.3);}.btn.exit:hover{background:#ff66b2;box-shadow:0 0 12px #ff66b2;}.tooltip{visibility:hidden;position:absolute;background:black;color:var(--primary);padding:4px 10px;border-radius:16px;font-size:11px;white-space:nowrap;bottom:130%;left:50%;transform:translateX(-50%);border:1px solid rgba(179,128,255,0.3);}.btn:hover .tooltip{visibility:visible;}</style></head><body><div class="nav-bar"><div class="trigger"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div><div class="controls"><button class="btn exit" onclick="window.close()"><span class="tooltip">Close</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button><button class="btn" onclick="location.reload()"><span class="tooltip">Refresh</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M23 4v6h-6M1 20v-6h6"></path><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg></button><button class="btn hide-btn" onclick="this.closest('.nav-bar').style.display='none'"><span class="tooltip">Hide</span><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg></button></div></div><iframe src="${finalUrl}" allowfullscreen></iframe></body></html>`;
    win.document.write(html);
}
document.getElementById('patchRedirectBtn').addEventListener('click', function() { window.location.href = 'https://THEONLYNOVA.web.app'; });
const canvas = document.getElementById('stars-canvas'), ctx = canvas.getContext('2d');
let stars = [];
function initStars() {
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    stars = [];
    for (let i = 0; i < 150; i++) {
        stars.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: Math.random() * 1.5 + 0.6,
            speed: Math.random() * 0.02 + 0.01,
            glow: Math.random() * 0.8 + 0.4
        });
    }
}
function drawStars() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for (let s of stars) {
        ctx.beginPath();
        ctx.arc(s.x, s.y, s.radius, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(255, 255, 255, ${s.glow * 0.7})`;
        ctx.shadowColor = 'rgba(179, 128, 255, 0.9)';
        ctx.shadowBlur = s.radius * 6;
        ctx.fill();
        s.y += s.speed;
        if (s.y > canvas.height) { s.y = 0; s.x = Math.random() * canvas.width; }
    }
    ctx.shadowBlur = 0;
    requestAnimationFrame(drawStars);
}
window.addEventListener('resize', () => { initStars(); });
initStars();
drawStars();
verify();
fetchRemoteData();
</script>
</body>
</html>
